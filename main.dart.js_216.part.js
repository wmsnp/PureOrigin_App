// Generated by dart2js (NullSafetyMode.sound, csp, intern-composite-values), the Dart to JavaScript compiler version: 3.7.2.
((s, d, e) => {
  s[d] = s[d] || {};
  s[d][e] = s[d][e] || [];
  s[d][e].push({p: "main.dart.js_216", e: "beginPart"});
})(self, "$__dart_deferred_initializers__", "eventLog");
$__dart_deferred_initializers__.current = function(hunkHelpers, init, holdersList, $) {
  var J, B, F, N, H, O, P, G, Q, R, I, S, K, T,
  A = {
    ChatCustomMessage$(index, message, sendMessage, sessionId) {
      return new A.ChatCustomMessage(message, sessionId, sendMessage, null);
    },
    buildCard(context, isSentByMe, theme, description, onTap, title) {
      var _null = null,
        color = A.messageCardColor(isSentByMe, false),
        t1 = isSentByMe ? 0 : 12,
        t2 = A.messageCardColor(isSentByMe, true),
        t3 = C.BorderRadius$circular(12),
        t4 = B._setArrayType([new C.BoxShadow(0, F.BlurStyle_0, $.$get$shadowColor(), K.Offset_0_3, 6)], type$.JSArray_BoxShadow),
        t5 = C.Icon$(L.IconData_57509_MaterialIcons_null_true, color, _null, _null),
        t6 = theme.typography.bodyMedium,
        t7 = type$.JSArray_Widget,
        t8 = B._setArrayType([G.Text$(title, _null, _null, _null, _null, _null, _null, _null, t6.copyWith$2$color$fontWeight(color, D.FontWeight_6), _null, _null, _null, _null, _null)], t7),
        t9 = description.length !== 0;
      if (t9)
        t8.push(I.SizedBox_null_4_null_null);
      if (t9)
        t8.push(G.Text$(description, _null, _null, _null, _null, _null, _null, _null, t6.copyWith$1$color(color), _null, _null, _null, _null, _null));
      return U.GestureDetector$(_null, C.Container$(_null, N.StyledList_toRow(B._setArrayType([t5, I.SizedBox_12_null_null_null, V.StyledList_toColumn(t8, E.CrossAxisAlignment_0, E.MainAxisAlignment_0, E.MainAxisSize_0)], t7), E.CrossAxisAlignment_2, E.MainAxisAlignment_0, E.MainAxisSize_0, _null), F.Clip_0, _null, _null, new C.BoxDecoration(t2, _null, _null, t3, t4, _null, _null, D.BoxShape_0), _null, _null, _null, new B.EdgeInsets(t1, 6, t1, 6), M.EdgeInsets_16_12_16_12, _null, _null, _null), E.DragStartBehavior_1, false, _null, _null, _null, _null, _null, _null, _null, _null, _null, _null, _null, _null, _null, _null, _null, _null, _null, _null, _null, _null, _null, _null, _null, _null, _null, _null, _null, _null, onTap, _null, _null, _null, _null, _null, _null, _null, _null);
    },
    buildUnsupportedCard(context, isSentByMe, theme, text) {
      var _null = null,
        t1 = A.messageCardColor(isSentByMe, true),
        t2 = C.BorderRadius$circular(12),
        t3 = B._setArrayType([new C.BoxShadow(0, F.BlurStyle_0, $.$get$shadowColor(), K.Offset_0_3, 6)], type$.JSArray_BoxShadow);
      return C.Container$(_null, G.Text$(text, _null, _null, _null, _null, _null, _null, _null, theme.typography.bodyMedium.copyWith$1$color(A.messageCardColor(isSentByMe, false)), _null, _null, _null, _null, _null), F.Clip_0, _null, _null, new C.BoxDecoration(t1, _null, _null, t2, t3, _null, _null, D.BoxShape_0), _null, _null, _null, R.EdgeInsets_12_6_12_6, M.EdgeInsets_16_12_16_12, _null, _null, _null);
    },
    ChatCustomMessage: function ChatCustomMessage(t0, t1, t2, t3) {
      var _ = this;
      _.message = t0;
      _.sessionId = t1;
      _.sendMessage = t2;
      _.key = t3;
    },
    ChatCustomMessageState: function ChatCustomMessageState() {
      var _ = this;
      _._custom_message$_initialized = false;
      _.__ChatCustomMessageState_data_A = $;
      _._framework$_element = _._widget = null;
    },
    ChatCustomMessageState_refresh_closure: function ChatCustomMessageState_refresh_closure(t0) {
      this.$this = t0;
    },
    EventRegistry_builders_closure: function EventRegistry_builders_closure() {
    },
    EventRegistry_builders__closure0: function EventRegistry_builders__closure0() {
    },
    EventRegistry_builders__closure1: function EventRegistry_builders__closure1(t0, t1, t2) {
      this.context = t0;
      this.data = t1;
      this.widget = t2;
    },
    EventRegistry_builders___closure0: function EventRegistry_builders___closure0(t0, t1) {
      this.data = t0;
      this.widget = t1;
    },
    EventRegistry_builders___closure1: function EventRegistry_builders___closure1(t0, t1) {
      this.context = t0;
      this.widget = t1;
    },
    EventRegistry_builders_closure0: function EventRegistry_builders_closure0() {
    },
    EventRegistry_builders__closure: function EventRegistry_builders__closure(t0, t1, t2) {
      this.context = t0;
      this.widget = t1;
      this.refresh = t2;
    },
    EventRegistry_builders___closure: function EventRegistry_builders___closure(t0, t1) {
      this.widget = t0;
      this.refresh = t1;
    },
    messageCardColor(isSentByMe, isContainer) {
      var _0_5, _0_4, t2, _0_7, _0_4_isSet, _0_8, _null = null,
        t1 = isSentByMe,
        _0_1 = t1,
        _0_3 = _0_1;
      B.boolConversionCheck(t1);
      _0_5 = _null;
      _0_4 = _null;
      if (t1) {
        t2 = isContainer;
        _0_4 = t2;
        _0_5 = _0_4;
        B.boolConversionCheck(t2);
      } else
        t2 = false;
      if (t2)
        return D.Color_vnR;
      B.boolConversionCheck(_0_3);
      _0_7 = _null;
      if (_0_3) {
        if (t1) {
          t2 = _0_4;
          _0_4_isSet = t1;
        } else {
          t2 = isContainer;
          _0_4 = t2;
          _0_4_isSet = true;
        }
        _0_7 = false === t2;
        t2 = _0_7;
        B.boolConversionCheck(t2);
      } else {
        _0_4_isSet = t1;
        t2 = false;
      }
      if (t2)
        return D.Color_wst;
      _0_8 = false === _0_1;
      t2 = _0_8;
      if (B.boolConversionCheck(t2)) {
        if (t1)
          t1 = _0_5;
        else {
          if (_0_4_isSet)
            t1 = _0_4;
          else {
            t1 = isContainer;
            _0_4 = t1;
            _0_4_isSet = true;
          }
          _0_5 = true === t1;
          t1 = _0_5;
        }
        B.boolConversionCheck(t1);
      } else
        t1 = false;
      if (t1)
        return D.Color_wst;
      if (B.boolConversionCheck(_0_8)) {
        if (_0_3)
          t1 = _0_7;
        else {
          _0_7 = false === (_0_4_isSet ? _0_4 : isContainer);
          t1 = _0_7;
        }
        B.boolConversionCheck(t1);
      } else
        t1 = false;
      if (t1)
        return D.Color_vnR;
    }
  },
  L, U, M, E, V, C, W, D;
  J = holdersList[1];
  B = holdersList[0];
  F = holdersList[2];
  N = holdersList[87];
  H = holdersList[124];
  O = holdersList[50];
  P = holdersList[88];
  G = holdersList[132];
  Q = holdersList[157];
  R = holdersList[162];
  I = holdersList[160];
  S = holdersList[10];
  K = holdersList[159];
  T = holdersList[19];
  A = hunkHelpers.updateHolder(holdersList[6], A);
  L = holdersList[158];
  U = holdersList[130];
  M = holdersList[161];
  E = holdersList[145];
  V = holdersList[97];
  C = holdersList[136];
  W = holdersList[102];
  D = holdersList[137];
  A.ChatCustomMessage.prototype = {
    createState$0() {
      return new A.ChatCustomMessageState();
    }
  };
  A.ChatCustomMessageState.prototype = {
    initState$0() {
      this.super$State$initState();
      this.refresh$0(0);
    },
    refresh$0(_) {
      var $async$goto = 0,
        $async$completer = B._makeAsyncAwaitCompleter(type$.void),
        $async$returnValue, $async$handler = 2, $async$errorStack = [], $async$self = this, initializer, t1, exception, metadata0, metadata, $async$exception;
      var $async$refresh$0 = B._wrapJsFunctionForAsync(function($async$errorCode, $async$result) {
        if ($async$errorCode === 1) {
          $async$errorStack.push($async$result);
          $async$goto = $async$handler;
        }
        while (true)
          switch ($async$goto) {
            case 0:
              // Function start
              metadata0 = $async$self._widget.message.get$metadata(0);
              metadata = metadata0 == null ? B.LinkedHashMap_LinkedHashMap$_empty(type$.String, type$.dynamic) : metadata0;
              if (!J.containsKey$1$x(metadata, "event")) {
                // goto return
                $async$goto = 1;
                break;
              }
              $async$goto = 3;
              return B._asyncAwait(B.loadDeferredLibrary("record_detail.1", ""), $async$refresh$0);
            case 3:
              // returning from await.
              $async$goto = 4;
              return B._asyncAwait(B.loadDeferredLibrary("questionnaire_page", ""), $async$refresh$0);
            case 4:
              // returning from await.
              $async$handler = 6;
              initializer = $.$get$EventRegistry_initializers().$index(0, J.$index$asx(metadata, "event"));
              if (initializer == null) {
                // goto return
                $async$goto = 1;
                break;
              }
              t1 = $async$self._framework$_element;
              t1.toString;
              $async$goto = 9;
              return B._asyncAwait(initializer.call$2(t1, metadata), $async$refresh$0);
            case 9:
              // returning from await.
              $async$self.__ChatCustomMessageState_data_A = $async$result;
              $async$self.setState$1(new A.ChatCustomMessageState_refresh_closure($async$self));
              $async$handler = 2;
              // goto after finally
              $async$goto = 8;
              break;
            case 6:
              // catch
              $async$handler = 5;
              $async$exception = $async$errorStack.pop();
              // goto return
              $async$goto = 1;
              break;
              // goto after finally
              $async$goto = 8;
              break;
            case 5:
              // uncaught
              // goto rethrow
              $async$goto = 2;
              break;
            case 8:
              // after finally
            case 1:
              // return
              return B._asyncReturn($async$returnValue, $async$completer);
            case 2:
              // rethrow
              return B._asyncRethrow($async$errorStack.at(-1), $async$completer);
          }
      });
      return B._asyncStartSync($async$refresh$0, $async$completer);
    },
    build$1(context) {
      var metadata, builder, theme, isSentByMe, t1, t2, _this = this;
      if (!_this._custom_message$_initialized)
        return Q.SizedBox_null_null_null_null;
      metadata = _this._widget.message.get$metadata(0);
      if (metadata == null)
        metadata = B.LinkedHashMap_LinkedHashMap$_empty(type$.String, type$.dynamic);
      builder = $.$get$EventRegistry_builders().$index(0, J.$index$asx(metadata, "event"));
      theme = H.Provider_of(context, false, type$.ChatTheme);
      isSentByMe = J.$eq$(H.Provider_of(context, false, type$.String), _this._widget.message.authorId);
      if (builder == null)
        return A.buildUnsupportedCard(context, isSentByMe, theme, "\u6682\u4e0d\u652f\u6301\u7684\u6d88\u606f\u7c7b\u578b");
      t1 = _this.__ChatCustomMessageState_data_A;
      t1 === $ && B.throwLateFieldNI("data");
      t2 = _this._widget;
      t2.toString;
      return builder.call$6(context, t1, t2, _this.get$refresh(_this), isSentByMe, theme);
    }
  };
  var typesOffset = hunkHelpers.updateTypes(["Widget(BuildContext,@,ChatCustomMessage,~(),bool,ChatTheme)", "~()", "bool(Question)", "QuestionnairePage(BuildContext)", "RecordDetailDialog(BuildContext)"]);
  A.ChatCustomMessageState_refresh_closure.prototype = {
    call$0() {
      return this.$this._custom_message$_initialized = true;
    },
    $signature: 0
  };
  A.EventRegistry_builders_closure.prototype = {
    call$6(context, data, widget, __wc0_formal, isSentByMe, theme) {
      var t1;
      type$.void_Function._as(__wc0_formal);
      type$.Questionnaire._as(data);
      t1 = F.JSArray_methods.any$1(data.questions, new A.EventRegistry_builders__closure0()) ? "\u5df2\u63d0\u4ea4\u95ee\u5377" : "\u70b9\u51fb\u67e5\u770b\u95ee\u5377";
      return A.buildCard(context, isSentByMe, theme, t1, new A.EventRegistry_builders__closure1(context, data, widget), data.title);
    },
    $signature: typesOffset + 0
  };
  A.EventRegistry_builders__closure0.prototype = {
    call$1(q) {
      var t1 = type$.Question._as(q).answer;
      return t1 != null && J.toString$0$(t1).length !== 0;
    },
    $signature: typesOffset + 2
  };
  A.EventRegistry_builders__closure1.prototype = {
    call$0() {
      var t1 = this.context,
        t2 = this.widget,
        t3 = type$.dynamic;
      return W.Navigator_of(t1, false).push$1$1(O.MaterialPageRoute$(new A.EventRegistry_builders___closure0(this.data, t2), null, t3), t3).then$1$1(0, new A.EventRegistry_builders___closure1(t1, t2), t3);
    },
    $signature: 0
  };
  A.EventRegistry_builders___closure0.prototype = {
    call$1(__wc1_formal) {
      type$.BuildContext._as(__wc1_formal);
      B.checkDeferredIsLoaded("questionnaire_page");
      return S.QuestionnairePage$(this.data, this.widget.sessionId);
    },
    $signature: typesOffset + 3
  };
  A.EventRegistry_builders___closure1.prototype = {
    call$1(value) {
      var t1;
      if (value != null && this.context._widget != null) {
        t1 = this.widget;
        t1 = t1.sendMessage.call$2(type$.CustomMessage._as(value), t1.sessionId);
      } else
        t1 = null;
      return t1;
    },
    $signature: 20
  };
  A.EventRegistry_builders_closure0.prototype = {
    call$6(context, data, widget, refresh, isSentByMe, theme) {
      var t1, t2;
      type$.void_Function._as(refresh);
      if (J.get$isEmpty$asx(type$.Map_dynamic_dynamic._as(data)))
        t1 = A.buildUnsupportedCard(context, isSentByMe, theme, "\u8bb0\u5f55\u5df2\u5220\u9664");
      else {
        B.checkDeferredIsLoaded("record_detail.1");
        t1 = $.$get$recordBuilders();
        t2 = widget.message.get$metadata(0);
        t2.toString;
        t1 = t1.$index(0, J.$index$asx(J.$index$asx(t2, "data"), "type")) == null ? A.buildUnsupportedCard(context, isSentByMe, theme, "\u6682\u4e0d\u652f\u6301\u7684\u8bb0\u5f55\u7c7b\u578b") : A.buildCard(context, isSentByMe, theme, "\u70b9\u51fb\u67e5\u770b\u8be6\u60c5\u6216\u624b\u52a8\u4fee\u6b63", new A.EventRegistry_builders__closure(context, widget, refresh), "\u8bb0\u5f55\u5df2\u66f4\u65b0");
      }
      return t1;
    },
    $signature: typesOffset + 0
  };
  A.EventRegistry_builders__closure.prototype = {
    call$0() {
      return P.showDialog(new A.EventRegistry_builders___closure(this.widget, this.refresh), this.context, type$.dynamic);
    },
    $signature: 0
  };
  A.EventRegistry_builders___closure.prototype = {
    call$1(__wc2_formal) {
      var t1;
      type$.BuildContext._as(__wc2_formal);
      B.checkDeferredIsLoaded("record_detail.1");
      t1 = this.widget.message.get$metadata(0);
      t1.toString;
      return T.RecordDetailDialog$(t1, this.refresh);
    },
    $signature: typesOffset + 4
  };
  (function installTearOffs() {
    var _instance_0_i = hunkHelpers._instance_0i;
    _instance_0_i(A.ChatCustomMessageState.prototype, "get$refresh", "refresh$0", 1);
  })();
  (function inheritance() {
    var _inherit = hunkHelpers.inherit,
      _inheritMany = hunkHelpers.inheritMany;
    _inherit(A.ChatCustomMessage, B.StatefulWidget);
    _inherit(A.ChatCustomMessageState, B.State);
    _inheritMany(B.Closure0Args, [A.ChatCustomMessageState_refresh_closure, A.EventRegistry_builders__closure1, A.EventRegistry_builders__closure]);
    _inheritMany(B.Closure, [A.EventRegistry_builders_closure, A.EventRegistry_builders__closure0, A.EventRegistry_builders___closure0, A.EventRegistry_builders___closure1, A.EventRegistry_builders_closure0, A.EventRegistry_builders___closure]);
  })();
  B._Universe_addRules(init.typeUniverse, JSON.parse('{"ChatCustomMessage":{"StatefulWidget":[],"Widget":[],"DiagnosticableTree":[]},"ChatCustomMessageState":{"State":["ChatCustomMessage"],"State.T":"ChatCustomMessage"}}'));
  var type$ = (function rtii() {
    var findType = B.findType;
    return {
      BuildContext: findType("BuildContext"),
      ChatTheme: findType("ChatTheme"),
      CustomMessage: findType("CustomMessage"),
      JSArray_BoxShadow: findType("JSArray<BoxShadow>"),
      JSArray_Widget: findType("JSArray<Widget>"),
      Map_dynamic_dynamic: findType("Map<@,@>"),
      Question: findType("Question"),
      Questionnaire: findType("Questionnaire"),
      String: findType("String"),
      dynamic: findType("@"),
      void: findType("~"),
      void_Function: findType("~()")
    };
  })();
  (function constants() {
    L.IconData_57509_MaterialIcons_null_true = new C.IconData(57509, "MaterialIcons", null, true);
  })();
  (function lazyInitializers() {
    var _lazyFinal = hunkHelpers.lazyFinal;
    _lazyFinal($, "EventRegistry_builders", "$get$EventRegistry_builders", () => B.LinkedHashMap_LinkedHashMap$_literal(["questionnaire", new A.EventRegistry_builders_closure(), "record_status", new A.EventRegistry_builders_closure0()], type$.String, B.findType("Widget(BuildContext,@,ChatCustomMessage,~(),bool,ChatTheme)")));
    _lazyFinal($, "shadowColor", "$get$shadowColor", () => D.Color_vnR.withValues$1$alpha(0.08));
  })();
};
;
((d, h) => {
  d[h] = d.current;
  d.eventLog.push({p: "main.dart.js_216", e: "endPart", h: h});
})($__dart_deferred_initializers__, "o4m+Ej7VMFzsgpndeMCu/OVJOl8=");
;
//# sourceMappingURL=main.dart.js_216.part.js.map
